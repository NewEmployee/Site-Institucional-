<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Employee | Cadastro</title>
    <link rel="stylesheet" href="cadastro_style.css">
    <link rel="shortcut icon" type="imagex/png" href="img/icon.ico">
</head>
<body>
    

    <div class="caixa_branca">

        <div class="header">

            <b>Cadastro</b>

            <img class="img_logo" src="img/cadastro/NEcadastro.png"> 
            

            <span> <b>New</b> Employee</span> 

            <img class="img_p" src="img/cadastro/imgProdutividade.png">

        </div>

        <div class="informacoes">


            
            <div class="row">

                <div class="div_input">
                    <img src="img/cadastro/imgEmpresa.png" >
                    Nome da Empresa: <br>
                    <input placeholder="Insira o nome da sua empresa">
                </div>
                
                <div class="div_input">
                    <img src="img/cadastro/cnpj.png">
                    CNPJ: <br>
                    <input placeholder="Insira seu CNPJ">
                </div>
                
            </div>

            <div class="row">
                
                <div class="div_input">
                    <img src="img/Cadastro/cep.png" >
                    CEP: <br>
                    <input placeholder="Insira seu CEP">
                    
                </div>

                <div class="div_input">
                    <img src="img/Cadastro/endereco.png">
                    Endereço <br>
                    <input placeholder="Insira seu endereço">
                </div>
            </div>    
           

            <div class="row">
                <div class="div_input">
                    <img src="img/cadastro/imgCidade.png" >
                   Cidade: <br>
                    <input placeholder="Insira sua cidade">
                </div>
                <div class="div_input">
                    <img src="img/Cadastro/bairro.png">
                    Bairro: <br>
                    <input placeholder="Insira seu bairro">
                </div>
                
            </div>

            <div class="row">
                <div class="div_input">
                    <img src="img/Cadastro/uf.png" >
                   UF: <br>
                    <input placeholder="Insira sua UF">
                </div>
               

                <div class="div_input">
                    <img src="img/cadastro/senha.png">
                    Senha: <br>
                    <input type="password" id="input_senha" placeholder="Insira sua senha">
                </div>
                
            </div>
           

            <button><a href="">Cadastrar</a></button>
        </div>

        

    </div>


















    
    <div class="coluna_preta">

        <div class="imagem_preta">
            <img src="img/cadastro/ne_preto.png">
        </div>

        <div class="titulos">
            <a>Serviços</a>
            <a>Social</a>
            <a>Ajuda</a>
            <a>Jurídico</a>
        </div>


        <div class="sub_servicos">
            <br>
            <br>
           <li><a href="">Produtividade</a></li>
            <br>
            <br>
            <li><a href="">Diminuir doenças</a></li>
            <br>
            <br>

            <li><a href="">Ambiente confortável</a></li>

        </div>

        <div class="sub_social">
           <br>
           <br>
        <li><a href="">Facebook</a></li>
           <br>
           <br>
        <li><a href="">Instagram</a></li>
           <br>
           <br>
        <li><a href="">Linkedin</a></li>

        </div>


        <div class="sub_ajuda">
            <br>
            <br>
         <li><a href="">Suporte</a></li>
            <br>
            <br>
         <li><a href="">Contato</a></li>
            
         </div>


         
        <div class="sub_juridico">
            <br>
            <br>
         <li><a href="">Termos e condições</a></li>
            <br>
            <br>
         <li><a href="">Política de privacidade</a></li>
 
         </div>


    </div>

    <div class="footer">
        Copyright©NewEmployee 2022
     </div>



</body>
</html>


<script>

    function funcao_senha() {

         if (input_senha.type == "password") {

         input_senha.type = "text";
            } 
            else {
    input_senha.type = "password";
  }
         
    }

    function cadastrar() {
       

       //Recupere o valor da nova input pelo nome do id
       // Agora vá para o método fetch logo abaixo
       var nomeVar = input_cadastro_nomeempresa.value
       var cnpjVar = input_cadastro_cnpj.value
       var cepVar = input_cadastro_cep.value
       var enderecoVar = input_cadastro_endereco.value
       var cidadeVar = input_cadastro_cidade.value
       var bairroVar = input_cadastro_bairro.value
       var ufVar = input_cadastro_uf.value
       var senhaVar = input_cadastro_senha.value
   




       
       if (nomeVar == "" || senhaVar == "" ) {
          alert('ERROU')
           return false;

       }else{

       

     
       

      
       // Enviando o valor da nova input
      
       fetch("/usuarios/cadastrar", {
           method: "POST",
           headers: {
               "Content-Type": "application/json"
           },
           body: JSON.stringify({
               // crie um atributo que recebe o valor recuperado aqui
               // Agora vá para o arquivo routes/usuario.js
               nomeServer: nomeVar, 
               cnpjServer: cnpjVar, 
               cepServer: cepVar, 
               enderecoServer: enderecoVar, 
               cidadeServer:cidadeVar, 
               bairroServer:bairroVar, 
               ufServer:ufVar, 
               senhaServer: senhaVar
           })
       }).then(function (resposta) {

           console.log("resposta: ", resposta);

           if (resposta.ok) {
              
               window.location = "NewLogin.html";
               
              
           } else {
               throw ("Houve um erro ao tentar realizar o cadastro!");
           }
       }).catch(function (resposta) {
           console.log(`#ERRO: ${resposta}`);
           
       });

       return false;
   }
 

   }


</script>