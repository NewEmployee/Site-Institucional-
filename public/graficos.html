<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="dashnova.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body onload="aparecer_generico()">

    <div class="main">
        <img class="iconeNE" src="img/icon.ico">
    
        <p class="bemvindo">Bem vindo !</p>
    
        <button  onclick="mudar_tela()" class="botoes" id="botao_menu1">Locais</button>
    
        <button class="botoes" id="botao_menu2" onclick="aparecer_generico()">Gráficos</button>
    
        <button onclick="sair_tela()" class="botoes"  id="sair_menu">Sair</button>
    
    
    
    </div>

    <div class="dash">
        <div class="btns-dash">
            <!-- O gráfico é chamado de acordo com o id (fk_aquario) do banco  -->
            <button class="btn-chart" onclick="obterDadosGrafico1()">Sala 1</button>
            <button class="btn-chart" onclick="obterDadosGrafico2()">Sala 2</button>
            <button class="btn-chart" onclick="obterDadosGrafico3()">Sala 3</button>
            <button class="btn-chart" onclick="obterDadosGrafico4()">Sala 4</button>
        </div>
        <div class="graph">
            <div id="grafico">

               
                <div id="div1"  style="width:43vw; margin-left: 15%; ">
                    <canvas id="myChart1"></canvas>
                </div>

            </div>
           
        </div>
    </div>

    
</body>
</html>

<script>

function aparecer_generico() {

grafico();





const data = {
    labels: [
        'Ambiente Estável',
        'Ambiente em Alerta',
        'Ambiente Crítico'
    ],
    datasets: [{
        label: 'My First Dataset',
        data: [50, 25, 25],
        backgroundColor: [
            '#1cb807ad',
            '#f8e329b2',
            '#ff40409d'],
        hoverOffset: 4
    }]
};


const config = {
    type: 'pie',
    data: data,
};
const myChart1 = new Chart(
    document.getElementById('myChart1'),
    config
)


}
    function obterDadosGrafico1(){

        grafico();
        

        const labels = [
        '12:00',
        '12:30',
        '13:00',
        '13:30',
        '14:00',
        '14:30'
    ];

    const data = {
        labels: labels,
        datasets: [{
            label: 'Temperatura Interna',
            backgroundColor: 'red',
            borderColor: 'red',
            data: [19, 22, 21, 23, 24, 26,15,28],
        },        
        ]
    };

    const config = {
        type: 'line',
        data: data,
        options: {}
    };

    


    const myChart1 = new Chart(
        document.getElementById('myChart1'),
        config
    ); 

    }

    function grafico() {
    var div = document.getElementById('div1');
    var temp_velho = document.getElementById('myChart1');
    div.removeChild(temp_velho)

    var temp_novo = document.createElement('canvas')
    temp_novo.id = 'myChart1';
    div.appendChild(temp_novo);
}


    function obterDadosGrafico2(){
       
        grafico();

const labels = [
'12:00',
'12:30',
'13:00',
'13:30',
'14:00',
'14:30'
];

const data = {
labels: labels,
datasets: [{
    label: 'Temperatura Interna',
    backgroundColor: 'green',
    borderColor: 'green',
    data: [20.6, 22.4, 21, 22, 20.8, 21,15,28],
},

]
};

const config = {
type: 'line',
data: data,
options: {}
};




const myChart = new Chart(
document.getElementById('myChart1'),
config


        
);

}

function obterDadosGrafico3(){

        
    grafico();

const labels = [
'12:00',
'12:30',
'13:00',
'13:30',
'14:00',
'14:30'
];

const data = {
labels: labels,
datasets: [{
    label: 'Temperatura Interna',
    backgroundColor: 'green',
    borderColor: 'green',
    data: [22, 21, 22, 21, 20.6, 22.4,15,28],
},

]
};

const config = {
type: 'line',
data: data,
options: {}
};




const myChart = new Chart(
document.getElementById('myChart1'),
config
);


}


function obterDadosGrafico4(){

      
    grafico();

const labels = [
'12:00',
'12:30',
'13:00',
'13:30',
'14:00',
'14:30'
];

const data = {
labels: labels,
datasets: [{
    label: 'Temperatura Interna',
    backgroundColor: 'yellow',
    borderColor: 'yellow',
    data: [20, 22, 23, 20, 21, 23,15,28],
},

]
};

const config = {
type: 'line',
data: data,
options: {}
};




const myChart = new Chart(
document.getElementById('myChart1'),
config
);
}


function mudar_tela(){
    window.location = "dashnova.html"
}

function sair_tela(){
    window.location = "index.html"
}


</script>